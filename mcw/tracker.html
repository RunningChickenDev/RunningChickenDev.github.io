<html>
	<head>
		<style>

		div.text {
			font-family: Verdana;
			font-size: 14;
		}

		div.code-container {
			font-family: monospace;
			font-size: 14;
			margin: 2;
		}

		div.code-header {
			font-family: monospace;
			font-size: 14;
		}

		div.code-code {
			font-family: monospace;
			font-size: 14;
			margin: 10;
		}

		</style>

		<!--jQuery-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

		<script>
		var showJSON = true;

		function toggleShowJSON() {
			showJSON = !showJSON;
		}
		</script>

		<script src="trackerlib.js"></script>
		<script>
		setTrackerSite('https://freegeoip.net/json/');
		setDataHandler(function(data) {
			$('#demo-info').empty();

			console.log("Handling data...");

			if(showJSON == true) {
				$('#demo-raw-header').html("FULL JSON:<BR>");
				$('#demo-raw-code').text(JSON.stringify(data, null, 2));
			} else {
				$('#demo-raw-header').empty();
				$('#demo-raw-code').empty();
			}

			$('#demo-info').append("IP: " + data.ip + '<BR>');
			$('#demo-info').append("COUNTRY: " + data.country_name + '<BR>');
			$('#demo-info').append("REGION: " + data.region_name + '<BR>');
			$('#demo-info').append("CITY: " + data.city + '<BR>');
			$('#demo-info').append("COOKIES? " + document.cookie + '<BR>');
		});
		</script>
	</head>

	<body>
		<!--button for updates-->
		<button onClick="request()">update</button>
		<!--button for updates-->
		<button onClick="toggleShowJSON()">show raw JSON</button>


		<!--generic content container-->
		<div id="demo">
			<div id="demo-raw" class="code-container">
				<div id="demo-raw-header" class="code-header"></div>
				<div id="demo-raw-code" class="code-code"></div>
			</div>

			<div id="demo-info" class="text"></div>
		<div>
	</body>
</html>
